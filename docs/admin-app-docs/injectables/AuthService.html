<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>Admin App</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	      <link rel="stylesheet" href="../styles/style.css">
    </head>
    <body>

        <div class="navbar navbar-default navbar-fixed-top visible-xs">
            <a href="../" class="navbar-brand">Admin App</a>
            <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content injectable">
                   <div class="content-data">







<ol class="breadcrumb">
  <li>Injectables</li>
  <li>AuthService</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="active">
            <a href="#info" role="tab" id="info-tab" data-toggle="tab" data-link="info">Info</a>
        </li>
        <li >
            <a href="#source" role="tab" id="source-tab" data-toggle="tab" data-link="source">Source</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="c-info">
        <p class="comment">
            <h3>File</h3>
        </p>
        <p class="comment">
            <code>src/shared/services/auth.service.ts</code>
        </p>




            <section>
    <h3 id="index">Index</h3>
    <table class="table table-sm table-bordered index-table">
        <tbody>
                <tr>
                    <td class="col-md-4">
                        <h6><b>Properties</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#_loginStatus">_loginStatus</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#loginRedirectUrl">loginRedirectUrl</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#logoutRedirectUrl">logoutRedirectUrl</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#previousIsLoggedInCheck">previousIsLoggedInCheck</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#reLoginDelegate">reLoginDelegate</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Methods</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#getLoginStatusEvent">getLoginStatusEvent</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#gotoPage">gotoPage</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#initializeLoginStatus">initializeLoginStatus</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#login">login</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#logout">logout</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#processLoginResponse">processLoginResponse</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#processSurveyUserLoginResponse">processSurveyUserLoginResponse</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#redirectForLogin">redirectForLogin</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#redirectLoginUser">redirectLoginUser</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#redirectLogoutUser">redirectLogoutUser</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#reevaluateLoginStatus">reevaluateLoginStatus</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#refreshLogin">refreshLogin</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#reLogin">reLogin</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#saveUserDetails">saveUserDetails</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#surveyLogin">surveyLogin</a>
                            </li>
                        </ul>
                    </td>
                </tr>





                    <tr>
                        <td class="col-md-4">
                            <h6><b>Accessors</b></h6>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <ul class="index-list">
                                <li>
                                    <a href="#loginUrl">loginUrl</a>
                                </li>
                                <li>
                                    <a href="#homeUrl">homeUrl</a>
                                </li>
                                <li>
                                    <a href="#currentSurveyUser">currentSurveyUser</a>
                                </li>
                                <li>
                                    <a href="#currentUser">currentUser</a>
                                </li>
                                <li>
                                    <a href="#userPermissions">userPermissions</a>
                                </li>
                                <li>
                                    <a href="#accessToken">accessToken</a>
                                </li>
                                <li>
                                    <a href="#accessTokenExpiryDate">accessTokenExpiryDate</a>
                                </li>
                                <li>
                                    <a href="#isSessionExpired">isSessionExpired</a>
                                </li>
                                <li>
                                    <a href="#idToken">idToken</a>
                                </li>
                                <li>
                                    <a href="#refreshToken">refreshToken</a>
                                </li>
                                <li>
                                    <a href="#isLoggedIn">isLoggedIn</a>
                                </li>
                                <li>
                                    <a href="#rememberMe">rememberMe</a>
                                </li>
                            </ul>
                        </td>
                    </tr>
        </tbody>
    </table>
</section>

            <section>
    <h3 id="constructor">Constructor</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
<code>constructor(router: <a href="https://angular.io/api/router/Router" target="_blank">Router</a>, configurations: <a href="../injectables/ConfigurationService.html">ConfigurationService</a>, endpointFactory: <a href="../injectables/EndpointFactory.html">EndpointFactory</a>, localStorage: <a href="../injectables/LocalStoreManager.html">LocalStoreManager</a>)</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="31" class="link-to-prism">src/shared/services/auth.service.ts:31</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>Creates an instance of AuthService.</p>
</div>
                            <div>
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>router</td>
                                                  
                                                        <td>
                                                                        <code><a href="https://angular.io/api/router/Router" target="_blank" >Router</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>configurations</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/ConfigurationService.html" target="_self" >ConfigurationService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>endpointFactory</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/EndpointFactory.html" target="_self" >EndpointFactory</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>localStorage</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/LocalStoreManager.html" target="_self" >LocalStoreManager</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
</section>

            <section>
    
    <h3 id="methods">
        Methods
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getLoginStatusEvent"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Public</span>
                            getLoginStatusEvent
                        </b>
                        <a href="#getLoginStatusEvent"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getLoginStatusEvent()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="368"
                            class="link-to-prism">src/shared/services/auth.service.ts:368</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>    <code>Observable&lt;boolean&gt;</code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="gotoPage"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Public</span>
                            gotoPage
                        </b>
                        <a href="#gotoPage"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>gotoPage(page: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, preserveParams: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank">boolean</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="69"
                            class="link-to-prism">src/shared/services/auth.service.ts:69</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Default value</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>page</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>

                                    <td>
                                    </td>

                                </tr>
                                <tr>
                                    <td>preserveParams</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>

                                    <td>
                                        <code>true</code>
                                    </td>

                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="initializeLoginStatus"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Private</span>
                            initializeLoginStatus
                        </b>
                        <a href="#initializeLoginStatus"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>initializeLoginStatus()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="56"
                            class="link-to-prism">src/shared/services/auth.service.ts:56</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="login"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Public</span>
                            login
                        </b>
                        <a href="#login"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>login(userName: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, password: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, rememberMe?: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank">boolean</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="151"
                            class="link-to-prism">src/shared/services/auth.service.ts:151</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>userName</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>password</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>rememberMe</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>
                                    </td>

                                    <td>
                                        Yes
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../classes/User.html" target="_self" >Observable&lt;User&gt;</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="logout"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Public</span>
                            logout
                        </b>
                        <a href="#logout"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>logout()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="341"
                            class="link-to-prism">src/shared/services/auth.service.ts:341</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="processLoginResponse"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Private</span>
                            processLoginResponse
                        </b>
                        <a href="#processLoginResponse"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>processLoginResponse(response: <a href="../interfaces/LoginResponse.html">LoginResponse</a>, rememberMe: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank">boolean</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="266"
                            class="link-to-prism">src/shared/services/auth.service.ts:266</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>response</td>
                                    <td>
                                                <code><a href="../interfaces/LoginResponse.html" target="_self" >LoginResponse</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>rememberMe</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../classes/User.html" target="_self" >User</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="processSurveyUserLoginResponse"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Private</span>
                            processSurveyUserLoginResponse
                        </b>
                        <a href="#processSurveyUserLoginResponse"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>processSurveyUserLoginResponse(response: <a href="../interfaces/LoginResponse.html">LoginResponse</a>, rememberMe: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank">boolean</a>, surveyId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, shortcode: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, groupcode?: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="199"
                            class="link-to-prism">src/shared/services/auth.service.ts:199</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>response</td>
                                    <td>
                                                <code><a href="../interfaces/LoginResponse.html" target="_self" >LoginResponse</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>rememberMe</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>surveyId</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>shortcode</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>groupcode</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        Yes
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../classes/User.html" target="_self" >User</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="redirectForLogin"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Public</span>
                            redirectForLogin
                        </b>
                        <a href="#redirectForLogin"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>redirectForLogin()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="121"
                            class="link-to-prism">src/shared/services/auth.service.ts:121</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="redirectLoginUser"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Public</span>
                            redirectLoginUser
                        </b>
                        <a href="#redirectLoginUser"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>redirectLoginUser()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="83"
                            class="link-to-prism">src/shared/services/auth.service.ts:83</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="redirectLogoutUser"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Public</span>
                            redirectLogoutUser
                        </b>
                        <a href="#redirectLogoutUser"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>redirectLogoutUser()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="109"
                            class="link-to-prism">src/shared/services/auth.service.ts:109</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="reevaluateLoginStatus"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Private</span>
                            reevaluateLoginStatus
                        </b>
                        <a href="#reevaluateLoginStatus"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>reevaluateLoginStatus(currentUser?: <a href="../classes/User.html">User</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="354"
                            class="link-to-prism">src/shared/services/auth.service.ts:354</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>currentUser</td>
                                    <td>
                                                <code><a href="../classes/User.html" target="_self" >User</a></code>
                                    </td>

                                    <td>
                                        Yes
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../classes/User.html" target="_self" >User</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="refreshLogin"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Public</span>
                            refreshLogin
                        </b>
                        <a href="#refreshLogin"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>refreshLogin()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="136"
                            class="link-to-prism">src/shared/services/auth.service.ts:136</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../classes/User.html" target="_self" >Observable&lt;User&gt;</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="reLogin"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Public</span>
                            reLogin
                        </b>
                        <a href="#reLogin"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>reLogin()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="126"
                            class="link-to-prism">src/shared/services/auth.service.ts:126</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="saveUserDetails"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Private</span>
                            saveUserDetails
                        </b>
                        <a href="#saveUserDetails"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>saveUserDetails(user: <a href="../classes/User.html">User</a>, permissions: <a href="../classes/Permission.html">PermissionValues[]</a>, accessToken: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, idToken: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, refreshToken: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, expiresIn: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date" target="_blank">Date</a>, rememberMe: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank">boolean</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="313"
                            class="link-to-prism">src/shared/services/auth.service.ts:313</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>user</td>
                                    <td>
                                                <code><a href="../classes/User.html" target="_self" >User</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>permissions</td>
                                    <td>
                                                <code><a href="../classes/Permission.html" target="_self" >PermissionValues[]</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>accessToken</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>idToken</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>refreshToken</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>expiresIn</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date" target="_blank" >Date</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>rememberMe</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="surveyLogin"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Public</span>
                            surveyLogin
                        </b>
                        <a href="#surveyLogin"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>surveyLogin(surveyId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, shortcode: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, groupcode?: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, rememberMe?: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank">boolean</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="171"
                            class="link-to-prism">src/shared/services/auth.service.ts:171</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>surveyId</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>shortcode</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>groupcode</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        Yes
                                    </td>


                                </tr>
                                <tr>
                                    <td>rememberMe</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>
                                    </td>

                                    <td>
                                        Yes
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../classes/User.html" target="_self" >Observable&lt;User&gt;</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</section>
            <section>
    
        <h3 id="inputs">
            Properties
        </h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="_loginStatus"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Private</span>
                            _loginStatus</b>
                            <a href="#_loginStatus"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code>Subject&lt;boolean&gt;</code>

                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>new Subject&lt;boolean&gt;()</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="31" class="link-to-prism">src/shared/services/auth.service.ts:31</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="loginRedirectUrl"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            loginRedirectUrl</b>
                            <a href="#loginRedirectUrl"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="25" class="link-to-prism">src/shared/services/auth.service.ts:25</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="logoutRedirectUrl"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            logoutRedirectUrl</b>
                            <a href="#logoutRedirectUrl"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="26" class="link-to-prism">src/shared/services/auth.service.ts:26</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="previousIsLoggedInCheck"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Private</span>
                            previousIsLoggedInCheck</b>
                            <a href="#previousIsLoggedInCheck"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>false</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="30" class="link-to-prism">src/shared/services/auth.service.ts:30</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="reLoginDelegate"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            reLoginDelegate</b>
                            <a href="#reLoginDelegate"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/function" target="_blank" >function</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="28" class="link-to-prism">src/shared/services/auth.service.ts:28</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
</section>

            <section>
    <h3 id="accessors">
        Accessors
    </h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="loginUrl"></a>
                        <span class="name"><b>loginUrl</b><a href="#loginUrl"><span class="icon ion-ios-link"></span></a></span>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <span class="accessor"><b>get</b><code>loginUrl()</code></span>
                    </td>
                </tr>
                            <tr>
                                <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="18" class="link-to-prism">src/shared/services/auth.service.ts:18</a></div>
                                </td>
                            </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="homeUrl"></a>
                        <span class="name"><b>homeUrl</b><a href="#homeUrl"><span class="icon ion-ios-link"></span></a></span>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <span class="accessor"><b>get</b><code>homeUrl()</code></span>
                    </td>
                </tr>
                            <tr>
                                <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="21" class="link-to-prism">src/shared/services/auth.service.ts:21</a></div>
                                </td>
                            </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="currentSurveyUser"></a>
                        <span class="name"><b>currentSurveyUser</b><a href="#currentSurveyUser"><span class="icon ion-ios-link"></span></a></span>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <span class="accessor"><b>get</b><code>currentSurveyUser()</code></span>
                    </td>
                </tr>
                            <tr>
                                <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="375" class="link-to-prism">src/shared/services/auth.service.ts:375</a></div>
                                </td>
                            </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description"><p>Gets the active user as a Survey User type</p>
</div>

                                <div class="io-description">
                                    <b>Returns : </b>        <code><a href="../classes/SurveyUser.html" target="_self" >SurveyUser</a></code>

                                </div>
                        </td>
                    </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="currentUser"></a>
                        <span class="name"><b>currentUser</b><a href="#currentUser"><span class="icon ion-ios-link"></span></a></span>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <span class="accessor"><b>get</b><code>currentUser()</code></span>
                    </td>
                </tr>
                            <tr>
                                <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="380" class="link-to-prism">src/shared/services/auth.service.ts:380</a></div>
                                </td>
                            </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="userPermissions"></a>
                        <span class="name"><b>userPermissions</b><a href="#userPermissions"><span class="icon ion-ios-link"></span></a></span>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <span class="accessor"><b>get</b><code>userPermissions()</code></span>
                    </td>
                </tr>
                            <tr>
                                <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="387" class="link-to-prism">src/shared/services/auth.service.ts:387</a></div>
                                </td>
                            </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="accessToken"></a>
                        <span class="name"><b>accessToken</b><a href="#accessToken"><span class="icon ion-ios-link"></span></a></span>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <span class="accessor"><b>get</b><code>accessToken()</code></span>
                    </td>
                </tr>
                            <tr>
                                <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="391" class="link-to-prism">src/shared/services/auth.service.ts:391</a></div>
                                </td>
                            </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="accessTokenExpiryDate"></a>
                        <span class="name"><b>accessTokenExpiryDate</b><a href="#accessTokenExpiryDate"><span class="icon ion-ios-link"></span></a></span>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <span class="accessor"><b>get</b><code>accessTokenExpiryDate()</code></span>
                    </td>
                </tr>
                            <tr>
                                <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="397" class="link-to-prism">src/shared/services/auth.service.ts:397</a></div>
                                </td>
                            </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="isSessionExpired"></a>
                        <span class="name"><b>isSessionExpired</b><a href="#isSessionExpired"><span class="icon ion-ios-link"></span></a></span>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <span class="accessor"><b>get</b><code>isSessionExpired()</code></span>
                    </td>
                </tr>
                            <tr>
                                <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="402" class="link-to-prism">src/shared/services/auth.service.ts:402</a></div>
                                </td>
                            </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="idToken"></a>
                        <span class="name"><b>idToken</b><a href="#idToken"><span class="icon ion-ios-link"></span></a></span>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <span class="accessor"><b>get</b><code>idToken()</code></span>
                    </td>
                </tr>
                            <tr>
                                <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="410" class="link-to-prism">src/shared/services/auth.service.ts:410</a></div>
                                </td>
                            </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="refreshToken"></a>
                        <span class="name"><b>refreshToken</b><a href="#refreshToken"><span class="icon ion-ios-link"></span></a></span>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <span class="accessor"><b>get</b><code>refreshToken()</code></span>
                    </td>
                </tr>
                            <tr>
                                <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="415" class="link-to-prism">src/shared/services/auth.service.ts:415</a></div>
                                </td>
                            </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="isLoggedIn"></a>
                        <span class="name"><b>isLoggedIn</b><a href="#isLoggedIn"><span class="icon ion-ios-link"></span></a></span>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <span class="accessor"><b>get</b><code>isLoggedIn()</code></span>
                    </td>
                </tr>
                            <tr>
                                <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="420" class="link-to-prism">src/shared/services/auth.service.ts:420</a></div>
                                </td>
                            </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="rememberMe"></a>
                        <span class="name"><b>rememberMe</b><a href="#rememberMe"><span class="icon ion-ios-link"></span></a></span>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <span class="accessor"><b>get</b><code>rememberMe()</code></span>
                    </td>
                </tr>
                            <tr>
                                <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="424" class="link-to-prism">src/shared/services/auth.service.ts:424</a></div>
                                </td>
                            </tr>

            </tbody>
        </table>
</section>
    </div>


    <div class="tab-pane fade  tab-source-code" id="c-source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import { map } from &#x27;rxjs/operators&#x27;;
import { Injectable } from &#x27;@angular/core&#x27;;
import { Router, NavigationExtras } from &#x27;@angular/router&#x27;;
import { Observable, Subject } from &#x27;rxjs&#x27;;
import { LocalStoreManager } from &#x27;./local-store-manager.service&#x27;;
import { EndpointFactory } from &#x27;./endpoint-factory.service&#x27;;
import { ConfigurationService } from &#x27;./configuration.service&#x27;;
import { DBkeys } from &#x27;./db-keys&#x27;;
import { JwtHelper } from &#x27;./jwt-helper&#x27;;
import { Utilities } from &#x27;./utilities&#x27;;
import { LoginResponse, IdToken } from &#x27;../models/login-response.model&#x27;;
import { User } from &#x27;../models/user.model&#x27;;
import { Permission, PermissionNames, PermissionValues } from &#x27;../models/permission.model&#x27;;
import { SurveyUser } from &#x27;../models/survey-user.model&#x27;;

@Injectable()
export class AuthService {
	public get loginUrl(): string {
		return this.configurations.loginUrl;
	}
	public get homeUrl(): string {
		return this.configurations.homeUrl;
	}

	public loginRedirectUrl: string;
	public logoutRedirectUrl: string;

	public reLoginDelegate: () &#x3D;&gt; void;

	private previousIsLoggedInCheck: boolean &#x3D; false;
	private _loginStatus: Subject&lt;boolean&gt; &#x3D; new Subject&lt;boolean&gt;();

	/**
	 *Creates an instance of AuthService.
	 * @param {Router} router
	 * @param {ConfigurationService} configurations
	 * @param {EndpointFactory} endpointFactory
	 * @param {LocalStoreManager} localStorage
	 * @memberof AuthService
	 */
	constructor(
		private router: Router,
		private configurations: ConfigurationService,
		private endpointFactory: EndpointFactory,
		private localStorage: LocalStoreManager
	) {
		this.initializeLoginStatus();
	}

	/**
	 *
	 *
	 * @private
	 * @memberof AuthService
	 */
	private initializeLoginStatus(): void {
		this.localStorage.getInitEvent().subscribe(() &#x3D;&gt; {
			this.reevaluateLoginStatus();
		});
	}

	/**
	 *
	 *
	 * @param {string} page
	 * @param {boolean} [preserveParams&#x3D;true]
	 * @memberof AuthService
	 */
	public gotoPage(page: string, preserveParams: boolean &#x3D; true): void {
		const navigationExtras: NavigationExtras &#x3D; {
			queryParamsHandling: preserveParams ? &#x27;merge&#x27; : &#x27;&#x27;,
			preserveFragment: preserveParams
		};

		this.router.navigate([page], navigationExtras);
	}

	/**
	 *
	 *
	 * @memberof AuthService
	 */
	public redirectLoginUser(): void {
		const redirect &#x3D;
			this.loginRedirectUrl &amp;&amp;
			this.loginRedirectUrl !&#x3D;&#x3D; &#x27;/&#x27; &amp;&amp;
			this.loginRedirectUrl !&#x3D;&#x3D; ConfigurationService.defaultHomeUrl
				? this.loginRedirectUrl
				: this.homeUrl;
		this.loginRedirectUrl &#x3D; null;

		const urlParamsAndFragment &#x3D; Utilities.splitInTwo(redirect, &#x27;#&#x27;);
		const urlAndParams &#x3D; Utilities.splitInTwo(urlParamsAndFragment.firstPart, &#x27;?&#x27;);

		const navigationExtras: NavigationExtras &#x3D; {
			fragment: urlParamsAndFragment.secondPart,
			queryParams: Utilities.getQueryParamsFromString(urlAndParams.secondPart),
			queryParamsHandling: &#x27;merge&#x27;
		};

		this.router.navigate([urlAndParams.firstPart], navigationExtras);
	}

	/**
	 *
	 *
	 * @memberof AuthService
	 */
	public redirectLogoutUser(): void {
		const redirect &#x3D; this.logoutRedirectUrl ? this.logoutRedirectUrl : this.loginUrl;
		this.logoutRedirectUrl &#x3D; null;

		this.router.navigate([redirect]);
	}

	/**
	 *
	 *
	 * @memberof AuthService
	 */
	public redirectForLogin(): void {
		this.loginRedirectUrl &#x3D; this.router.url;
		this.router.navigate([this.loginUrl]);
	}

	public reLogin(): void {
		this.localStorage.deleteData(DBkeys.TOKEN_EXPIRES_IN);

		if (this.reLoginDelegate) {
			this.reLoginDelegate();
		} else {
			this.redirectForLogin();
		}
	}

	public refreshLogin(): Observable&lt;User&gt; {
		return this.endpointFactory
			.getRefreshLoginEndpoint&lt;LoginResponse&gt;()
			.pipe(map(response &#x3D;&gt; this.processLoginResponse(response, this.rememberMe)));
	}

	/**
	 *
	 *
	 * @param {string} userName
	 * @param {string} password
	 * @param {boolean} [rememberMe]
	 * @returns
	 * @memberof AuthService
	 */
	public login(userName: string, password: string, rememberMe?: boolean): Observable&lt;User&gt; {
		if (this.isLoggedIn) {
			this.logout();
		}

		return this.endpointFactory
			.getLoginEndpoint&lt;LoginResponse&gt;(userName, password)
			.pipe(map(response &#x3D;&gt; this.processLoginResponse(response, rememberMe)));
	}

	/**
	 *
	 *
	 * @param {number} surveyId
	 * @param {string} shortcode
	 * @param {string} [groupcode]
	 * @param {boolean} [rememberMe]
	 * @returns {Observable&lt;User&gt;}
	 * @memberof AuthService
	 */
	public surveyLogin(
		surveyId: number,
		shortcode: string,
		groupcode?: string,
		rememberMe?: boolean,
	): Observable&lt;User&gt; {
		if (this.isLoggedIn) {
			this.logout();
		}

		return this.endpointFactory
			.getSurveyLoginEndpoint&lt;LoginResponse&gt;(surveyId, shortcode)
			.pipe(
				map(response &#x3D;&gt;
					this.processSurveyUserLoginResponse(response, rememberMe, surveyId, shortcode, groupcode)
				)
			);
	}

	/**
	 *
	 *
	 * @private
	 * @param {LoginResponse} response
	 * @param {boolean} rememberMe
	 * @returns {User}
	 * @memberof AuthService
	 */
	private processSurveyUserLoginResponse(
		response: LoginResponse,
		rememberMe: boolean,
		surveyId: number,
		shortcode: string,
		groupcode?: string
	): User {
		const accessToken &#x3D; response.access_token;

		if (accessToken &#x3D;&#x3D; null) {
			throw new Error(&#x27;Received accessToken was empty&#x27;);
		}

		const idToken &#x3D; response.id_token;
		const refreshToken &#x3D; response.refresh_token || this.refreshToken;
		const expiresIn &#x3D; response.expires_in;

		const tokenExpiryDate &#x3D; new Date();
		tokenExpiryDate.setSeconds(tokenExpiryDate.getSeconds() + expiresIn);

		const accessTokenExpiry &#x3D; tokenExpiryDate;

		const jwtHelper &#x3D; new JwtHelper();
		const decodedIdToken &#x3D; &lt;IdToken&gt;jwtHelper.decodeToken(response.id_token);

		const permissions: PermissionValues[] &#x3D; Array.isArray(decodedIdToken.permission)
			? decodedIdToken.permission
			: [decodedIdToken.permission];

		if (!this.isLoggedIn) {
			this.configurations.import(decodedIdToken.configuration);
		}

		const user &#x3D; new User(
			decodedIdToken.sub,
			decodedIdToken.name,
			decodedIdToken.fullname,
			decodedIdToken.email,
			decodedIdToken.jobtitle,
			decodedIdToken.phone,
			Array.isArray(decodedIdToken.role) ? decodedIdToken.role : [decodedIdToken.role]
		);
		user.isEnabled &#x3D; true;

		if (user.roles.includes(&#x27;respondent&#x27;)) {
			(&lt;SurveyUser&gt;user).shortcode &#x3D; shortcode;
			(&lt;SurveyUser&gt;user).surveyId &#x3D; surveyId;
			(&lt;SurveyUser&gt;user).groupcode &#x3D; groupcode;
		}

		this.saveUserDetails(user, permissions, accessToken, idToken, refreshToken, accessTokenExpiry, rememberMe);

		this.reevaluateLoginStatus(user);
		console.log(user);

		return user;
	}

	/**
	 *
	 *
	 * @private
	 * @param {LoginResponse} response
	 * @param {boolean} rememberMe
	 * @returns
	 * @memberof AuthService
	 */
	private processLoginResponse(response: LoginResponse, rememberMe: boolean): User {
		console.log(&#x27;response: &#x27;);
		console.log(response);
		const accessToken &#x3D; response.access_token;

		if (accessToken &#x3D;&#x3D; null) {
			throw new Error(&#x27;Received accessToken was empty&#x27;);
		}

		const idToken &#x3D; response.id_token;
		const refreshToken &#x3D; response.refresh_token || this.refreshToken;
		const expiresIn &#x3D; response.expires_in;

		const tokenExpiryDate &#x3D; new Date();
		tokenExpiryDate.setSeconds(tokenExpiryDate.getSeconds() + expiresIn);

		const accessTokenExpiry &#x3D; tokenExpiryDate;

		const jwtHelper &#x3D; new JwtHelper();
		const decodedIdToken &#x3D; &lt;IdToken&gt;jwtHelper.decodeToken(response.id_token);

		const permissions: PermissionValues[] &#x3D; Array.isArray(decodedIdToken.permission)
			? decodedIdToken.permission
			: [decodedIdToken.permission];

		if (!this.isLoggedIn) {
			this.configurations.import(decodedIdToken.configuration);
		}

		const user &#x3D; new User(
			decodedIdToken.sub,
			decodedIdToken.name,
			decodedIdToken.fullname,
			decodedIdToken.email,
			decodedIdToken.jobtitle,
			decodedIdToken.phone,
			Array.isArray(decodedIdToken.role) ? decodedIdToken.role : [decodedIdToken.role]
		);
		user.isEnabled &#x3D; true;

		this.saveUserDetails(user, permissions, accessToken, idToken, refreshToken, accessTokenExpiry, rememberMe);

		this.reevaluateLoginStatus(user);

		return user;
	}

	private saveUserDetails(
		user: User,
		permissions: PermissionValues[],
		accessToken: string,
		idToken: string,
		refreshToken: string,
		expiresIn: Date,
		rememberMe: boolean
	): void {
		if (rememberMe) {
			this.localStorage.savePermanentData(accessToken, DBkeys.ACCESS_TOKEN);
			this.localStorage.savePermanentData(idToken, DBkeys.ID_TOKEN);
			this.localStorage.savePermanentData(refreshToken, DBkeys.REFRESH_TOKEN);
			this.localStorage.savePermanentData(expiresIn, DBkeys.TOKEN_EXPIRES_IN);
			this.localStorage.savePermanentData(permissions, DBkeys.USER_PERMISSIONS);
			this.localStorage.savePermanentData(user, DBkeys.CURRENT_USER);
		} else {
			this.localStorage.saveSyncedSessionData(accessToken, DBkeys.ACCESS_TOKEN);
			this.localStorage.saveSyncedSessionData(idToken, DBkeys.ID_TOKEN);
			this.localStorage.saveSyncedSessionData(refreshToken, DBkeys.REFRESH_TOKEN);
			this.localStorage.saveSyncedSessionData(expiresIn, DBkeys.TOKEN_EXPIRES_IN);
			this.localStorage.saveSyncedSessionData(permissions, DBkeys.USER_PERMISSIONS);
			this.localStorage.saveSyncedSessionData(user, DBkeys.CURRENT_USER);
		}

		this.localStorage.savePermanentData(rememberMe, DBkeys.REMEMBER_ME);
	}

	public logout(): void {
		this.localStorage.deleteData(DBkeys.ACCESS_TOKEN);
		this.localStorage.deleteData(DBkeys.ID_TOKEN);
		this.localStorage.deleteData(DBkeys.REFRESH_TOKEN);
		this.localStorage.deleteData(DBkeys.TOKEN_EXPIRES_IN);
		this.localStorage.deleteData(DBkeys.USER_PERMISSIONS);
		this.localStorage.deleteData(DBkeys.CURRENT_USER);

		this.configurations.clearLocalChanges();

		this.reevaluateLoginStatus();
	}

	private reevaluateLoginStatus(currentUser?: User): User {
		const user &#x3D; currentUser || this.localStorage.getDataObject&lt;User&gt;(DBkeys.CURRENT_USER);
		const isLoggedIn &#x3D; user !&#x3D; null;

		if (this.previousIsLoggedInCheck !&#x3D;&#x3D; isLoggedIn) {
			setTimeout(() &#x3D;&gt; {
				this._loginStatus.next(isLoggedIn);
			});
		}

		this.previousIsLoggedInCheck &#x3D; isLoggedIn;
		return user;
	}

	public getLoginStatusEvent(): Observable&lt;boolean&gt; {
		return this._loginStatus.asObservable();
	}

	/**
	 * Gets the active user as a Survey User type
	 */
	get currentSurveyUser(): SurveyUser {
		const user &#x3D; this.reevaluateLoginStatus();
		return &lt;SurveyUser&gt;user;
	}

	get currentUser(): User {
		const user &#x3D; this.localStorage.getDataObject&lt;User&gt;(DBkeys.CURRENT_USER);
		this.reevaluateLoginStatus(user);

		return user;
	}

	get userPermissions(): PermissionValues[] {
		return this.localStorage.getDataObject&lt;PermissionValues[]&gt;(DBkeys.USER_PERMISSIONS) || [];
	}

	get accessToken(): string {
		this.reevaluateLoginStatus();
		let accessToken &#x3D; this.localStorage.getData(DBkeys.ACCESS_TOKEN);
		return accessToken;
	}

	get accessTokenExpiryDate(): Date {
		this.reevaluateLoginStatus();
		return this.localStorage.getDataObject&lt;Date&gt;(DBkeys.TOKEN_EXPIRES_IN, true);
	}

	get isSessionExpired(): boolean {
		if (this.accessTokenExpiryDate &#x3D;&#x3D; null) {
			return true;
		}

		return !(this.accessTokenExpiryDate.valueOf() &gt; new Date().valueOf());
	}

	get idToken(): string {
		this.reevaluateLoginStatus();
		return this.localStorage.getData(DBkeys.ID_TOKEN);
	}

	get refreshToken(): string {
		this.reevaluateLoginStatus();
		return this.localStorage.getData(DBkeys.REFRESH_TOKEN);
	}

	get isLoggedIn(): boolean {
		return this.currentUser !&#x3D; null;
	}

	get rememberMe(): boolean {
		return this.localStorage.getDataObject&lt;boolean&gt;(DBkeys.REMEMBER_ME) &#x3D;&#x3D;&#x3D; true;
	}
}
</code></pre>
    </div>

</div>











                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> result-matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'injectable';
            var COMPODOC_CURRENT_PAGE_URL = 'AuthService.html';
       </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>
       <!-- Required to polyfill modern browsers as code is ES5 for IE... -->
       <script src="../js/libs/custom-elements-es5-adapter.js" charset="utf-8" defer></script>
       <script src="../js/menu-wc.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>

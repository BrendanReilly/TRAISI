<div *ngIf="editing">
	<form (ngSubmit)="saveConfiguration()" #f="ngForm" novalidate class="form-horizontal">
		<div class="clearfix">
			<ul class="nav nav-tabs float-left" id="myTab" role="tablist">
				<li class="nav-item">
					<a class="nav-link active fw-semi-bold" id="basic-tab" data-toggle="tab" href="#basic" role="tab" aria-controls="basic" aria-expanded="true">Basic</a>
				</li>
				<li class="nav-item" *ngIf="configurations.length > 0">
					<a class="nav-link fw-semi-bold" id="advanced-tab" data-toggle="tab" href="#advanced" role="tab" aria-controls="advanced"
					 aria-expanded="true" (click)="advancedConfig()">Advanced</a>
				</li>
				<li class="nav-item" *ngIf="questionBeingEdited.id != 0">
					<a class="nav-link fw-semi-bold" id="conditionals-tab" data-toggle="tab" href="#conditionals" role="tab" aria-controls="conditionals"
					 aria-expanded="true">Conditionals</a>
				</li>
			</ul>
		</div>
		<div class="tab-content mb-lg" id="pageTabContent">
			<div role="tabpanel" class="tab-pane active in clearfix" id="basic" aria-labelledby="basic-tab" aria-expanded="true">
				<div *ngIf="questionBeingEdited.questionPart">
					<div class="form-group form-group-adjust row">
						<label for="questionName" class="col-md-2 col-form-label text-md-right">Question Name</label>
						<div class="col-md-4">
							<input type="text" name="questionName" [(ngModel)]="questionBeingEdited.questionPart.name" class="form-control" id="questionName"
							 placeholder="Question Name" />
						</div>
					</div>
					<div class="row">
						<div class="col-md-12">
							<hr class="edit-separator-hr" />
						</div>
					</div>
				</div>
				<div class="form-group form-group-adjust row">
					<label for="questionText" class="col-md-2 col-form-label text-md-right">Question Text</label>
					<div class="col-md-10">
						<div [froalaEditor]="froalaQTestOptions" [(froalaModel)]="questionBeingEdited.label.value" id="questionText" aria-describedby="questionText"
						 placeholder="Question Text" name="questionText">
						</div>
					</div>
				</div>
				<div class="row">
					<div class="col-md-12">
						<hr class="edit-separator-hr" />
					</div>
				</div>
				<div class="form-group form-group-adjust row">
					<div class="col-md-6 col-sm-6 col-6">
						<div class="form-group form-group-adjust row">
							<label class="col-md-4 col-form-label text-md-right">Optional</label>
							<div class="col-md-5">
								<label class="form-check-label switch" for="isOptionalCheck">
									<input class="form-check-input" type="checkbox" value="" id="isOptionalCheck" [(ngModel)]="questionBeingEdited.isOptional"
									 name="isOptional">
									<i></i>
								</label>
							</div>
						</div>
					</div>
					<div class="col-md-6 col-sm-6 col-6" *ngIf="!questionBeingEdited.questionPart">
						<div class="form-group form-group-adjust row">
							<label class="col-md-4 col-form-label text-md-right">Household</label>
							<div class="col-md-5">
								<label class="form-check-label switch" for="isHouseholdCheck">
									<input class="form-check-input" type="checkbox" value="" id="isHouseholdCheck" [(ngModel)]="questionBeingEdited.isHousehold"
									 name="isHousehold">
									<i></i>
								</label>
							</div>
						</div>
					</div>
				</div>
				<div class="row">
					<div class="col-md-12">
						<hr class="edit-separator-hr" />
					</div>
				</div>
				<div class="form-group form-group-adjust row">
					<label class="col-md-2 col-form-label text-md-right">Repeat</label>
					<div class="col-md-5">
						<label class="form-check-label switch" for="isRepeatCheck">
							<input class="form-check-input" type="checkbox" value="" id="isRepeatCheck" [(ngModel)]="questionBeingEdited.isRepeat" name="isRepeat">
							<i></i>
						</label>
					</div>
				</div>
			</div>
			<div role="tabpanel" class="tab-pane" id="advanced" aria-labelledby="advanced-tab" aria-expanded="true">
				<ng-container *ngFor="let config of configurations; let i = index">
					<ng-template #dynamic></ng-template>
					<div *ngIf="i < configurations.length - 1" class="row">
						<div class="col-md-12">
							<hr class="edit-separator-hr" />
						</div>
					</div>
				</ng-container>
			</div>
			<div role="tabpanel" class="tab-pane" id="conditionals" aria-labelledby="conditionals-tab" aria-expanded="true">
				<app-question-conditionals #conditionals *ngIf="conditionalsLoaded" [sourceQuestionConditionals]="sourceQuestionConditionals" [sourceQuestionOptionConditionals]="sourceQuestionOptionConditionals"
				 [questionOptionsAfter]="questionOptionsAfter" [questionsBefore]="questionsBefore" [thisQuestion]="thisQuestion" [questionType]="questionType"
				 [questionBeingEdited]="questionBeingEdited"></app-question-conditionals>
			</div>
		</div>
		<div class="row">
			<div class="col-md-12">
				<hr class="edit-last-separator-hr" />
			</div>
		</div>
		<div class="form-group form-group-adjust row">
			<div class="col-md-12">
				<div class="pull-left">
					<button *ngIf="!newQuestion" type="button" class="btn btn-danger pull-left" data-dismiss="modal" (click)="delete()" [disabled]="isSaving">
						<i class='fa fa-times'></i>Delete
					</button>
				</div>
				<div class="pull-right">
					<button type="button" class="btn btn-danger action-button" data-dismiss="modal" (click)="cancel()" [disabled]="isSaving">
						<i class='fa fa-times'></i>Cancel</button>
					<button type="submit" class="btn btn-primary" [disabled]="isSaving">
						<i *ngIf="!isSaving" class="fa fa-save"></i>
						<i *ngIf="isSaving" class="fa fa-circle-o-notch fa-spin"></i> {{isSaving ? ('users.editor.Saving' | translate) : ('users.editor.Save'
						| translate)}}
					</button>
				</div>
			</div>
		</div>
		<div class="clearfix"></div>
	</form>
</div>